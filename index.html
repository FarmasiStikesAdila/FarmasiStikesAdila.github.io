<!DOCTYPE html>
<html lang="id">
<head>
    <!-- [Bagian head sama seperti sebelumnya] -->
    <style>
        /* [CSS sebelumnya tetap sama] */
        
        /* Tambahan CSS untuk perbaikan interaksi */
        button, input, select {
            cursor: pointer;
        }
        
        .auth-tab {
            user-select: none;
        }
        
        /* Pastikan semua elemen interaktif di atas elemen lain */
        button, input, select, .auth-tab {
            position: relative;
            z-index: 10;
        }
    </style>
</head>
<body>
    <!-- [Bagian HTML sama seperti sebelumnya] -->

    <script>
        // [Script sebelumnya tetap sama sampai bagian DOMContentLoaded]
        
        document.addEventListener('DOMContentLoaded', function() {
            checkLoginStatus();
            checkNotificationPermission();
            
            // Perbaikan: Event listener yang lebih robust
            document.getElementById('medicineForm').addEventListener('submit', function(e) {
                e.preventDefault();
                saveMedicine();
            });
            
            // Pastikan semua button memiliki event listener
            document.querySelectorAll('button').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                });
            });
            
            // Perbaikan: Inisialisasi Service Worker
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', function() {
                    navigator.serviceWorker.register('sw.js')
                        .then(registration => {
                            console.log('ServiceWorker registration successful');
                        })
                        .catch(err => {
                            console.log('ServiceWorker registration failed: ', err);
                        });
                });
            }
        });
        
        // [Fungsi-fungsi lainnya tetap sama]
        
    </script>
</body>
</html>